<!DOCTYPE html>
<html lang="en">
<%-include('partials/head') %>
<style>
    .calculus .form_age_calc {
        max-width: 50%;
    }
    body{
        height: 100vh;
    }
    /* @media only screen and (max-width: 600px) {} */
</style>

<body>

    <div class="container">
        <div class="text-center calculus d-flex flex-column align-items-center p-5">
            <h1>Doğum ilinizi qeyd edin.</h1>
            <form class="form_age_calc d-flex flex-column" action="" method="get">
                <input class="mb-2" required name="year" type="number" placeholder="1990">
                <button type="submit" class="btn btn-success">Yaşını öyrən</button>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
    <!-- <script src="/socket.io/socket.io.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script>
        const form = $(".form_age_calc");
        form.submit(async (e) => {
            const year = $(".form_age_calc input[name='year']").val();
            e.preventDefault();
            const response = await fetch('/calc/' + year);
            const { age } = await response.json();
            Swal.fire(
                'Təbriklər!',
                `Sizin ${age} yaşınız var!`,
                'success'
            )
        })
    </script>
</body>

</html>